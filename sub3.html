<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Chem</title>
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/sub-common.css">
    <link rel="stylesheet" type="text/css" href="css/sub3.css">
    <meta name="description" content="text, text, text, text">
    <meta property="og:type" content="website">
    <meta property="og:title" content="New-Chem">
    <meta property="og:description" content="text, text, text, text">
    <meta property="og:image" content="https://kcskcsa.com/default/img/logo.gif">
    <meta property="og:url" content="https://www.kcskcsa.co.kr/">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
    
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){                      
            $("#header-wrap-load").load("header-wrap.html .header-wrap", function() {
                console.log("Content loaded successfully.");
            });
            $("#footer-wrap-load").load("footer-wrap.html .footer-wrap", function() {
                console.log("Content loaded successfully.");
            });
        });

        function validateEmail(email) {
            var re = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
            return re.test(String(email).toLowerCase());
        }

        function Send(){
            var email = document.getElementById("email").value;
            if (!validateEmail(email)) {
                alert("유효하지 않은 이메일 주소입니다.");
                return;
            }

            console.log("function call");
            Email.send({
                Host : "smtp.elasticemail.com",
                Username : "jinwoo.choi@aichemist.kr",
                Password : "0F2DB265CC2313DFC5E7A2F7BB894BBACA0D",
                To : 'jinwoo.choi@aichemist.kr',
                From : "jinwoo.choi@aichemist.kr",
                Subject : "NewChem 상담 신청",
                Body : "업체명: " + document.getElementById("company").value + "<br> 성명: " + document.getElementById("name").value + "<br> 전화번호: " + document.getElementById("number").value + "<br> 이메일: " + email + "<br> 지역: " + document.getElementById("address").value + "<br> 제목: " + document.getElementById("title").value + "<br> 내용: " + document.getElementById("note").value
            }).then(
                message => alert("이메일이 성공적으로 전송되었습니다."),
                error => alert("이메일 전송에 실패했습니다: " + error)
            );
        }

        function checkIt() {
            const check_elem = document.querySelector("#check");
            if (!check_elem.checked) {
                alert("개인정보 수집 및 이용목적 동의 여부를 확인해주세요.");
            } else {
                Send();
            }
        }
    </script>
</head>
<body>
    <div id="wrap">
        <header>
            <div id="header-wrap-load"></div>
        </header>
        <section>
            <div class="section-wrap">
                <div class="top-banner">
                    <p>Contact Us</p>
                </div>
                <div class="content01">
                    <div class="text">
                        <div class="title">
                            <p>안녕하세요, 고객님.<br>전문가에게 맡겨주세요!</p>
                        </div>
                        <div class="detail">
                            <p>아래 내용을 작성해서 접수하시면, 전문가가 24시간 이내에 빠르고 성실하게 답변 드리겠습니다.</p>
                        </div>
                    </div>
                    <div class="input">
                        <div class="input-wrap">
                            <table>
                                <tbody>
                                    <tr>
                                        <td class="title">업체명</td>
                                        <td colspan=3><input type=text name=shop size=30 id="company"></td>
                                    </tr>
                                    <tr>
                                        <td class="title">성명</td>
                                        <td><input type=text name=name id="name"></td>
                                    </tr>
                                    <tr>
                                        <td class="title">전화번호</td>
                                        <td><input type=text name=number id="number"></td>
                                    </tr>
                                    <tr>
                                        <td class="title">E-mail</td>
                                        <td colspan=3><input type=text name=email size=50 id="email"></td>
                                    </tr>
                                    <tr>
                                        <td class="title">지역</td>
                                        <td colspan=3>
                                            <select name=address id="address">
                                                <option>서울특별시</option>
                                                <option>경기도</option>
                                                <!-- 생략 -->
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">제목</td>
                                        <td><input type=text name=title id="title"></td>
                                    </tr>
                                    <tr>
                                        <td class="title">내용</td>
                                        <td colspan=3><textarea rows=6 cols=40 name="note" placeholder="내용을 입력해주세요." id="note"></textarea></td>
                                    </tr>
                                    <tr class="agree">
                                        <td class="title">개인정보 수집 및 이용목적</td>
                                        <td><input type="checkbox" name="agree" id="check">개인정보의 수집 및 이용목적에 동의합니다.<a href="./agree.html">약관보기</a></td>
                                    </tr>
                                    <button type="submit" class="send" onclick="checkIt()" id="send">보내기</button>
                                </tbody>
                            </table> 
                        </div>
                    </div>   
                </div>
            </div>
        </section>
        <footer>            
            <div id="footer-wrap-load"></div>
        </footer>
    </div>
</body>
</html>
